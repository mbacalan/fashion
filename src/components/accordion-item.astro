---
export interface AccordionItemProps {
  question: string;
  defaultOpen?: boolean;
}

const { question, defaultOpen = false } = Astro.props as AccordionItemProps;
---

<details
  class="accordion border-brand-secondary-border group rounded-2xl border bg-white p-6 transition-shadow duration-300 ease-out hover:shadow-[0_12px_32px_rgba(31,42,36,0.12)]"
  open={defaultOpen}
>
  <summary
    class="text-brand-ink flex cursor-pointer items-center justify-between gap-4 text-base leading-snug font-semibold marker:hidden"
  >
    <span>{question}</span>
    <span
      class="text-brand-secondary-ink border-brand-secondary-border group-open:border-brand-primary group-open:bg-brand-primary relative flex h-10 w-10 shrink-0 items-center justify-center rounded-full border transition-colors duration-300 ease-out group-open:text-white"
    >
      <span
        class="absolute h-0.5 w-4 rounded-full bg-current transition-transform duration-300 ease-out"
      ></span>
      <span
        class="absolute h-4 w-0.5 origin-center rounded-full bg-current transition-transform duration-300 ease-out group-open:scale-y-0"
      ></span>
    </span>
  </summary>
  <div class="accordion-collapse">
    <div class="text-brand-body mt-4 text-sm leading-relaxed">
      <slot />
    </div>
  </div>
</details>
